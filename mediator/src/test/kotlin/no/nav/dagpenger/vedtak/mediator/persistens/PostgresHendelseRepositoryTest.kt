package no.nav.dagpenger.vedtak.mediator.persistens

internal class PostgresHendelseRepositoryTest {
//    @Test
//    fun `lagre og hent hendelse`() {
//        val hendelse = Meldingsfabrikk.rettighetBehandletOgInnvilgetJson()
//        val jsonMessage =
//            JsonMessage(hendelse, MessageProblems(hendelse)).also {
//                it.interestedIn("@id", "ident")
//            }
//        val rettighetBehandletHendelseMessage = RettighetBehandletHendelseMessage(jsonMessage)
//
//        Postgres.withMigratedDb {
//            val postgresHendelseRepository = PostgresHendelseRepository(PostgresDataSourceBuilder.dataSource)
//            postgresHendelseRepository.lagreMelding(
//                hendelseMessage = rettighetBehandletHendelseMessage,
//                ident = rettighetBehandletHendelseMessage.hentIdent(),
//                id = rettighetBehandletHendelseMessage.id,
//                toJson = hendelse,
//            )
//            postgresHendelseRepository.erBehandlet(rettighetBehandletHendelseMessage.id) shouldBeEqual false
//            postgresHendelseRepository.markerSomBehandlet(rettighetBehandletHendelseMessage.id)
//            postgresHendelseRepository.erBehandlet(rettighetBehandletHendelseMessage.id) shouldBeEqual true
//        }
//    }
}
